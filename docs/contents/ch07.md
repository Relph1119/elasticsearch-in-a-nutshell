# 第7章 Elasticsearch预处理

## 7.1 预处理步骤

1. 定义预处理管道
2. 写入数据关联预处理管道
3. 写入数据：`ingest`预处理是实际文档索引化之前对文档进行的预先处理。

## 7.2 预处理器分类

- `append`：将一个或多个值附加到现有数组。
- `convert`：将当前提取的文档中的字段转换为不同的类型。
- `CSV`：从文档中的单个文本字段中提取CSV行中的字段。
- `date`：解析日期，使用日期或时间戳作为文档的时间戳。
- `drop`：满足给定条件则执行删除操作。
- `enrich`：用来自另一个索引的`enrich`数据来丰富文档。
- `fingerprint`：计算文档内容的哈希值，用于去重。
- `foreach`：在数组或对象的每个元素上运行预处理
- `lowercase`：将字符串转换为小写字母。
- `remove`：移除存在的字段。
- `rename`：对已有字段重命名。
- `script`：对已有字段进行脚本处理。
- `set`：设置一个字段并将其与指定值进行关联。
- `sort`：对数组的元素进行排序。
- `split`：使用分隔符将字段拆分为数组。
- `trim`：删除字段中的空白字符。